{% extends "back.html" %}

{% block title %}PetDraw | Генератор вершин{% endblock %}

{% block content %}
<div class="container">
    <h2>Генерация текстур вершин</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Загрузить и обработать</button>
    </form>

    {% if original_image_data and texture_image_data %}
    <h3>Результат обработки:</h3>
    <div class="row">
        <div class="col-md-6">
            <h4>Оригинальное изображение:</h4>
            <img src="data:image/png;base64,{{ original_image_data }}" alt="Оригинальное изображение" class="img-fluid">
        </div>
        <div class="col-md-6">
            <h4>Сгенерированная текстура:</h4>
            <img src="data:image/png;base64,{{ texture_image_data }}" alt="Текстура вершин" class="img-fluid">
        </div>
    </div>
    <a href="{{ download_link }}" download="vertex_texture.png" class="btn btn-success mt-3">Скачать текстуру</a>
    {% endif %}
</div>
{% endblock %}
